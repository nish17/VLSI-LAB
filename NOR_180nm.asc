Version 4
SHEET 1 880 680
WIRE -1056 -752 -1120 -752
WIRE -1056 -704 -1056 -752
WIRE -1056 -576 -1056 -624
WIRE -1120 -512 -1120 -752
WIRE -992 -512 -1120 -512
WIRE -1120 -432 -1120 -512
WIRE -992 -384 -992 -512
WIRE -992 -384 -1120 -384
WIRE -1168 -352 -1232 -352
WIRE -1120 -256 -1120 -336
WIRE -992 -208 -992 -384
WIRE -992 -208 -1120 -208
WIRE -1168 -176 -1232 -176
WIRE -1120 -128 -1120 -160
WIRE -848 -128 -1120 -128
WIRE -1120 -64 -1120 -128
WIRE -1104 -64 -1120 -64
WIRE -752 -64 -1104 -64
WIRE -1104 16 -1104 -64
WIRE -752 16 -752 -64
WIRE -976 64 -1104 64
WIRE -624 64 -752 64
WIRE -1152 96 -1216 96
WIRE -800 96 -880 96
WIRE -1952 128 -1952 80
WIRE -1648 128 -1648 80
WIRE -1104 128 -1104 112
WIRE -976 128 -976 64
WIRE -976 128 -1104 128
WIRE -752 128 -752 112
WIRE -624 128 -624 64
WIRE -624 128 -752 128
WIRE -1104 224 -1104 128
WIRE -752 224 -752 128
WIRE -752 224 -1104 224
WIRE -752 240 -752 224
FLAG -1952 208 0
FLAG -1648 208 0
FLAG -1952 80 A
FLAG -1648 80 B
FLAG -752 240 0
FLAG -848 -128 out
FLAG -880 96 B
FLAG -1232 -176 B
FLAG -1216 96 A
FLAG -1232 -352 A
FLAG -1056 -576 0
SYMBOL voltage -1952 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PWL file=MSZ_A.txt
SYMBOL voltage -1648 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PWL file=MSZ_B.txt
SYMBOL nmos4 -800 16 R0
SYMATTR InstName M1
SYMATTR Value N_180n
SYMATTR Value2 l={L} w={WN} ad={5*lambda*WN} as={5*lambda*WN} pd={10*lambda + 2*WN} ps={10*lambda + 2*WN}
SYMBOL voltage -1056 -720 R0
SYMATTR InstName Vdd
SYMATTR Value 1.8
SYMBOL pmos4 -1168 -432 R0
SYMATTR InstName M2
SYMATTR Value P_180n
SYMATTR Value2 l={L} w={WP} ad={5*lambda*WP} as={5*lambda*WP} pd={10*lambda+2*WP} ps={10*lambda+2*WP}
SYMBOL nmos4 -1152 16 R0
SYMATTR InstName M3
SYMATTR Value N_180n
SYMATTR Value2 l={L} w={WN} ad={5*lambda*WN} as={5*lambda*WN} pd={10*lambda + 2*WN} ps={10*lambda + 2*WN}
SYMBOL pmos4 -1168 -256 R0
SYMATTR InstName M4
SYMATTR Value P_180n
SYMATTR Value2 l={L} w={WP} ad={5*lambda*WP} as={5*lambda*WP} pd={10*lambda+2*WP} ps={10*lambda+2*WP}
TEXT -1960 336 Left 3 !.tran 2800p
TEXT -1968 272 Left 4 !.include MOSIS_TSMC_180nm.txt
TEXT -904 -488 Left 2 !.Param lambda = 90e-9
TEXT -904 -456 Left 2 !.Param L = 180e-9
TEXT -904 -424 Left 2 !.param WN=360e-9
TEXT -912 -392 Left 2 !.param WP=1440e-9
TEXT -1992 -136 Left 2 !.MEAS TRAN t1 WHEN V(out)=0.9 cross=1\n.MEAS TRAN t2 WHEN V(out)=0.9 cross=2\n.MEAS TRAN t3 WHEN V(out)=0.9 cross=3\n.MEAS TRAN t4 WHEN V(out)=0.9 cross=4\n.MEAS TRAN t5 WHEN V(out)=0.9 cross=5\n.MEAS TRAN t6 WHEN V(out)=0.9 cross=6
TEXT -2168 -296 Left 2 !.MEAS TRAN EnergyVdd INTEG ((abs(-I(Vdd))-I(Vdd))/2)*1.8 FROM 0e-12 TO 2800e-12\n.MEAS TRAN EnergyA INTEG ((abs(-I(V1))-I(V1))/2)*V(A) FROM 0e-12 TO 2800e-12\n.MEAS TRAN EnergyB INTEG ((abs(-I(V2))-I(V2))/2)*V(B) FROM 0e-12 TO 2800e-12\n.MEAS TRAN TotalEnergy PARAM EnergyVdd + EnergyA + EnergyB\n.MEAS TRAN AveragePower PARAM TotalEnergy/2800e-12
